load("~/My Documents/Rstatistics/dataSets/NatHealth2011.rds")
source("~/My Documents/Rstatistics/dataSets/NatHealth2011.rds")
load("~/My Documents/Rstatistics/dataSets/NatHealth2011.rds")
source("~/My Documents/Rstatistics/dataSets/NatHealth2011.rds")
data("~/My Documents/Rstatistics/dataSets/NatHealth2011.rds")
require(utils)
load("~/My Documents/Rstatistics/dataSets/NatHealth2011.rds")
source("~/My Documents/Rstatistics/dataSets/NatHealth2011.rds")
data("~/My Documents/Rstatistics/dataSets/NatHealth2011.rds")
read.table("~/My Documents/Rstatistics/dataSets/NatHealth2011.rds")
readRDS("~/My Documents/Rstatistics/dataSets/NatHealth2011.rds")
NH11 <- readRDS("~/My Documents/Rstatistics/dataSets/NatHealth2011.rds")
states.data <- readRDS("~/My Documents/Rstatistics/dataSets/states.rds")
exam.data <- readRDS("~/My Documents/Rstatistics/dataSets/exam.rds")
linear_regresstion.R <- readRDS("~/My Documents/Rstatistics/linear_regression.rds")
linear_regresstion <- source("~/My Documents/Rstatistics/linear_regression.R")
linear_regression <- load("~/My Documents/Rstatistics/linear_regression.R")
save.image("~/My Documents/linear.regression.RData")
linear_regression <- load("~/My Documents/Rstatistics/linear_regression.R")
states.info <- data.frame(attributes(states.data)[c("names", "var.labels")])
tail(states.info, 8)
sts.ex.sat <- subset(states.data, select = c("expense, "csat""))
sts.ex.sat <- subset(states.data, select = c("expense", "csat))
sts.ex.sat <- subset(states.data, select = c("expense", "csat"))
summary(sts.ex.sat)
cor(sts.ex.sat)
plot(sts.ex.sat)
sat.mod <- lm(csat ~ expense, data=states.data)
summary(sat.mod)
summary(lm(csat ~ expense + percent, data=states.data))
class(sat.mod)
names(sat.mod)
methods(class=class(sat.mod))[1:9]
confint(sat.mod)
hist(residuals(sat.mod))
par(mar=c(4,4,2,2), mfrow=c(1,2))
plot(sat.mod, which=c(1,2))
sat.voting.mod <- lm(csat~expense+house+senate, data= na.omit(states.data))
sat.mod <- update(sat.mod, data=na.omit(states.data))
anova(sat.mod, sat.voting.mod)
coef(summary(sat.voting.mod))
summary(states.data)
energy.metro.mod <- lm(energy~metro, data= na.omit(states.data))
summary(energy.metro.mod)
view(energy.metro.mod)
hist(energy.metro.mod)
hist(residuals(energy.metro.mod))
oef(summary(energy.metro.mod))
coef(summary(energy.metro.mod))
energy.metro.mod <- lm(energy~metro+income+expense+region, data= na.omit(states.data))
summary(energy.metro.mod)
energy.metro.mod <- lm(energy~metro+income+expense+region+pop+area+density, data= na.omit(states.data))
summary(energy.metro.mod)
energy.metro.mod <- lm(energy~metro+income+expense+region+pop+area+density+waste+miles+toxic, data= na.omit(states.data))
summary(energy.metro.mod)
energy.metro.mod <- lm(energy~metro+income+expense+region+pop+area+density+waste+miles+toxic+green+house+senate+csat+vsat+msat+percent+high+college, data= na.omit(states.data))
summary(energy.metro.mod)
energy.metro.mod <- lm(energy~metro+income+expense+region+pop+area+density+waste+miles+toxic+green+house+senate+csat+vsat+percent+high+college, data= na.omit(states.data))
summary(energy.metro.mod)
energy.metro.mod <- lm(energy~metro+income+expense+region+pop+area+density+waste+miles+toxic+green+house+csat+vsat+percent+high+college, data= na.omit(states.data))
summary(energy.metro.mod)
energy.metro.mod <- lm(energy~metro+income+expense+region+pop+area+density+waste+miles+toxic+green+house+csat+vsat+percent+high, data= na.omit(states.data))
summary(energy.metro.mod)
energy.metro.mod <- lm(energy~metro+income+expense+region+pop+area+density+waste+miles+toxic+green+house+csat+vsat+percent+college, data= na.omit(states.data))
summary(energy.metro.mod)
energy.metro.mod <- lm(energy~metro+income+expense+region+pop+area+density+waste+miles+toxic+green+house+csat+percent+college, data= na.omit(states.data))
summary(energy.metro.mod)
energy.metro.mod <- lm(energy~metro+income+expense+region+pop+area+density+waste+miles+toxic+green+house+percent+college, data= na.omit(states.data))
sumary(energy.metro.mod)
summary(energy.metro.mod)
energy.metro.mod <- lm(energy~metro+income+expense+region+pop+area+density+waste+miles+toxic+green+percent+college, data= na.omit(states.data))
summary(energy.metro.mod)
energy.metro.mod <- lm(energy~metro+income+expense+region+pop+density+waste+miles+toxic+green+percent+college, data= na.omit(states.data))
summary(energy.metro.mod)
energy.metro.mod <- lm(energy~metro+income+expense+pop+area+density+waste+miles+toxic+green+percent+college, data= na.omit(states.data))
summary(energy.metro.mod)
energy.metro.mod <- lm(energy~metro+income+expense+region+pop+area+density+waste+miles+toxic+green+percent+college, data= na.omit(states.data))
summary(energy.metro.mod)
print(summary(energy.metro.mod))
par(mar=c(4,4,2,2), mfrow=c(1,2))
> plot(energy.metro.mod, which=c(1,2))
par(mar=c(4,4,2,2), mfrow=c(1,2))
plot(energy.metro.mod, which=c(1,2))
confint(energy.metro.mod)
anova(energy.metro.mod)
influence(energy.metro.mod)
influencePlot(energy.metro.mod)
sat.expense.by.percent <- lm(csat~ expense*income, data=states.data)
coef(sat.expense.by.percent)
coef(summary(sat.expense.by.percent))
str(states.data$region)
states.data$region <- factor(states.data$region)
sat.region <- lm(csat ~ region, data=states.data)
coef(summary(sat.region))
anova(sat.region)
contrasts(states.data$region)
coef(summary(lm(csat~ C(region, base=4), data=states.data)))
coef(summary(lm(csat ~ C(region, contr.helmert),data=states.data)))
energy.metro.mod <- lm(energy~metro+income+expense+region+pop+area+density+waste+miles+toxic+green+percent+college, data= na.omit(states.data))
energy.metro.int <- lm(energy~metro*region, data=states.data)
coef(summary(energy.metro.int))
pricoef(summary(energy.metro.int))nt()
pricoef(summary(energy.metro.int))
print(coef(summary(energy.metro.int))
labs <- attributes(NH11)$labels
str(NH11$hypev)
levels(NH11$hypev)
NH11$hypev <- factor(NH11$hypev, levels=c("2 No", "1 Yes"))
hyp.out <- glm(hypev~age_p+sex+sleep+bmi, data=NH11, family="binomial")
coef(symmary(hyp.out))
coef(summary(hyp.out))
hyp.out.tab <- coef(summary(hyp.out))
hyp.out.tab[, "Estimate"] <- exp(coef(hyp.out))
hyp.out.tab
predDat <- with(NH11, expand.grid(age_p = c(33, 63), sex="2 Female", bmi= mean(sleep, na.rm=TRUE)))
cbind(predDat, predict(hyp.out, type="response",se.fit=TRUE, interval="confidence", newdata=predDat))
predDat
str(NH11$sleep)
predDat <- with(NH11, expand.grid(age_p = c(33, 63), sex="2 Female", bmi= mean(bmi, na.rm=TRUE), sleep=mean(sleep, na.rm=TRUE)))
cbind(predDat, predict(hyp.out, type="response",se.fit=TRUE, interval="confidence", newdata=predDat))
library(effects)
install.packages("effects")
plot(allEffects(hyp.out))
library(effects)
plot(allEffects(hyp.out))
install.packages("lme4")
library("effects", lib.loc="/Library/Frameworks/R.framework/Versions/3.4/Resources/library")
library(lme4)
view(exam.data)
view("exam.data")
str(exam.data)
Norm1 <- lmer(normexam ~ 1+ (1|school), data=Exam, REML=FALSE)
Norm1 <- lmer(normexam ~ 1+ (1|school), data=exam.data, REML=FALSE)
summary(Norm1)
Norm2 <- lmer(normexam~standLRT+(1|school), data=exam.data, REML=FALSE)
summary(Norm2)
anova(Norm1, Norm2)
Norm1 <- lmer(normexam ~ 1+ (1|school), data=exam.data, REML=FALSE)
Norm2 <- lmer(normexam~standLRT+(1|school), data=exam.data, REML=FALSE)
anova(Norm1, Norm2)
Norm3 <- lmer(normexam~standLRT + (standLRT|school), data=exam.data, REML=FALSE)
summary(Norm3)
anova(Norm2, Norm3)
data(bh1996, package="multilevel")
install.packages("multilevel")
data(bh1996, package="multilevel")
str(bh1996)
bhNorm1 <- lmer(WBEING ~ 1 + (1|GRP), data=bh1996, REML=FALSE)
summary(bhNorm1)
ICC(hbNorm1)
library("DescTools", lib.loc="/Library/Frameworks/R.framework/Versions/3.4/Resources/library")
ICC(hbNorm1)
ICC(bhNorm1)
ICC(bhNorm1, type = c("all", "ICC1", "ICC2", "ICC3", "ICC1k", "ICC2k", "ICC3k"),
conf.level = NA, na.rm = FALSE)
bhNorm2 <- lmer(WBEING ~ HRS + LEAD +(1|GRP), data=bh1996, REML=FALSE)
summary(bhNorm2)
bhNorm3 <- lmer(WBEING ~ HRS + LEAD +(HRS|GRP), data=bh1996, REML=FALSE)
summary(bhNorm3)
states.en.met <- subset(states, select=c("metro", "energy"))
states.en.met <- subset(states.data, select=c("metro", "energy"))
summary(states.en.met)
plot(states.en.met)
cor(states.en.met, use="pairwise")
mod.en.met <- lm(energy ~ metro, data=states.data)
summary(mod.en.met)
plot(mod.en.met)
states.en.met.pop.wst <- subset(states, select=c("energy", "metro", "pop", "waste"))
states.en.met.pop.wst <- subset(states.data, select=c("energy", "metro", "pop", "waste"))
summary(states.en.met.pop.wst)
plot(states.en.met.pop.wst)
cor(states.en.met.pop.wst, use="pairwise")
mod.en.met.pop.waste <- lm(energy~metro+pop+waste, data=states.data)
summary(mod.en.met.pop.waste)
anova(mod.en.met, mod.en.met.pop.waste)
energy.metro.mod <- lm(energy~metro+income+expense+region+pop+area+density+waste+miles+toxic+green+percent+college, data= na.omit(states.data))
mod.en.metro.by.waste <- lm(energy ~ metro*waste, data=states.data)
mod.en.region <- lm(energy~ metro*waste + regoin, data=states.data)
mod.en.region <- lm(energy~ metro*waste + region, data=states.data)
anova(mod.en.region)
nh11.wrk.age.mar <- subset(NH11, select=c("everwrk", "age_p", "r_marit1"))
nh11.wrk.age.mar <- subset(NH11, select=c("everwrk", "age_p", "r_maritl"))
summary(nh11.wrk.age.mar)
NH11 <- transform(NH11, everwrk=factor(everwrk, levels=c("1 Yes", "2 No")), r_maritl= droplevels(r_maritl))
mod.wk.age.mar <- glm(everwrk~ age_p + r_maritl, data= NH11, family="binomial")
summary(mod.wk.age.mar)
data.fram(Effect("r_maritl", mod.wk.age.mar))
data.frame(Effect("r_maritl", mod.wk.age.mar))
data(bh1996, package="multilevel")
mod.grp0 <- lmer(WBEING ~ 1 + (1|GRP), data=bh1996)
summary(bh1996)
summary(mod.grp0)
mod.grp1 <- lmer(WBEING~HRS+LEAD+ (1|GRP), data=bh1996)
summary(mod.grp1)
mod.grp2 <- lmer(WBEING~ HRS+LEAD+(1 + HRS | GRP), data=bh1996)
anova(mod.grp1, mod.grp2)
save.image("linear.regression.RData")
savehistory("liner.regression.Rhistory")
